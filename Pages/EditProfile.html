<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Profile - BloodBridge</title>
    <meta name="description" content="BloodBridge connects blood donors and recipients efficiently across Ghana." />
    <meta name="author" content="Richard Boakye Yiadom" />

    <link rel="icon" href="../../images/favicon.ico" type="image/x-icon" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/layout.css" />
    <link rel="stylesheet" href="../../css/dashboard.css" />
    <link rel="stylesheet" href="../../css/Chartforum.css" />

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
</head>

<body>

  
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-danger">
    <div class="container-fluid">
      <a class="navbar-brand fw-bold d-flex align-items-center" href="index.html">
        <img src="assets/logo.jpg" alt="BloodBridge Logo" width="40" class="me-2" />
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto">
        <li class="nav-item"><a class="nav-link text-white" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="Pages/Support.html">Support</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="Pages/AboutUs.html">About</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="Pages/Privacy.html">Privacy</a></li>
        </ul>
        <div class="d-flex">
          <a href="Pages/SignUp.html" class="btn btn-outline-light me-2">Sign Up</a>
          <a href="Pages/SignIn.html" class="btn btn-light">Sign In</a>
        </div>
      </div>
    </div>
  </nav>


    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <form id="editProfileForm" method="post" enctype="multipart/form-data" class="card shadow-lg p-4">
                    <h2 class="text-center text-danger mb-3">Edit Your Profile, John Doe</h2>

                    <!-- ✅ Success & Error Messages -->
                    <div id="successMessage" class="alert alert-success fade show text-center d-none" role="alert">
                        Profile updated successfully!
                    </div>
                    <div id="errorMessage" class="alert alert-danger fade show text-center d-none" role="alert">
                        Please fill all required fields.
                    </div>

                    <!-- ✅ Step 1: Personal Information -->
                    <div id="step-1" class="form-step">
                        <h4 class="text-center">Personal Information</h4>

                        <div class="mb-3">
                            <label class="form-label" for="FullName">Full Name</label>
                            <input type="text" class="form-control" id="FullName" name="FullName" value="John Doe" required placeholder="Enter your full name">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="Email">Email</label>
                            <input type="email" class="form-control" id="Email" name="Email" value="johndoe@email.com" required placeholder="Enter your email">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="PhoneNumber">Phone Number</label>
                            <input type="tel" class="form-control" id="PhoneNumber" name="PhoneNumber" value="0244000000" required placeholder="Enter your phone number">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="Location">Location</label>
                            <select class="form-select" id="Location" name="Location" required title="Select your location">
                                <option value="Accra" selected>Accra</option>
                                <option value="Kumasi">Kumasi</option>
                                <option value="Tamale">Tamale</option>
                                <option value="Takoradi">Takoradi</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="DateOfBirth">Date of Birth</label>
                            <input type="date" class="form-control" id="DateOfBirth" name="DateOfBirth" value="1990-01-01" required title="Enter your date of birth">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="BloodGroup">Blood Group</label>
                            <select class="form-select" id="BloodGroup" name="BloodGroup" required title="Select your blood group">
                                <option value="O+" selected>O+</option>
                                <option value="A+">A+</option>
                                <option value="B+">B+</option>
                                <option value="AB+">AB+</option>
                                <option value="O-">O-</option>
                                <option value="A-">A-</option>
                                <option value="B-">B-</option>
                                <option value="AB-">AB-</option>
                            </select>
                        </div>

                        <button type="button" class="btn btn-primary w-100 next-step">Next</button>
                    </div>

                    <!-- ✅ Step 2: Additional Information -->
                    <div id="step-2" class="form-step d-none">
                        <h4 class="text-center">Additional Information</h4>

                        <div class="mb-3">
                            <label class="form-label" for="NationalIDNumber">National ID Number</label>
                            <input type="text" class="form-control" id="NationalIDNumber" name="NationalIDNumber" value="GHA-123456789" required placeholder="Enter your national ID number">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="DonationFrequency">Donation Frequency</label>
                            <select class="form-select" id="DonationFrequency" name="DonationFrequency" required title="Select donation frequency">
                                <option value="3" selected>Every 3 months</option>
                                <option value="6">Every 6 months</option>
                                <option value="12">Every year</option>
                            </select>
                        </div>

                        <div class="form-check">
                            <input type="hidden" name="IsAvailableForDonation" value="false">
                            <input class="form-check-input" type="checkbox" id="availability" name="IsAvailableForDonation" value="true" checked>
                            <label class="form-check-label" for="availability">
                                Available for Donation
                            </label>
                        </div>
                        <p id="availabilityStatus" class="text-info" aria-live="polite">
                            ✅ You are available for donation.
                        </p>

                        <div class="mb-3">
                            <label class="form-label" for="EmergencyContactName">Emergency Contact Name</label>
                            <input type="text" class="form-control" id="EmergencyContactName" name="EmergencyContactName" value="Jane Doe" required placeholder="Enter emergency contact name">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="EmergencyContactPhone">Emergency Contact Phone</label>
                            <input type="tel" class="form-control" id="EmergencyContactPhone" name="EmergencyContactPhone" value="0244111222" required placeholder="Enter emergency contact phone">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="HealthHistory">Health History</label>
                            <textarea class="form-control" id="HealthHistory" name="HealthHistory" placeholder="Describe your health history">No major health issues.</textarea>
                        </div>

                        <button type="button" class="btn btn-secondary w-100 prev-step">Back</button>
                        <button type="button" class="btn btn-primary w-100 next-step">Next</button>
                    </div>

                    <!-- ✅ Step 3: Profile Picture -->
                    <div id="step-3" class="form-step d-none">
                        <h4 class="text-center">Update Profile Picture</h4>

                        <div class="mb-3 text-center">
                            <label for="ProfilePicture" class="form-label">Upload Profile Picture</label>
                            <input type="file" name="ProfilePicture" id="ProfilePicture" accept="image/*" class="form-control" title="Upload your profile picture">
                        </div>

                        <button type="button" class="btn btn-secondary w-100 prev-step">Back</button>
                        <button type="submit" class="btn btn-success w-100">Save Changes</button>
                    </div>

                    <!-- ✅ Profile Completion Progress Bar -->
                    <div class="mb-3 mt-4">
                        <label class="form-label" id="profileCompletionLabel">Profile Completion: <span id="profileCompletion">0%</span></label>
                        <div class="progress">
                            <div
                                class="progress-bar bg-success"
                                role="progressbar"
                                id="completionBar"
                                aria-valuenow="0"
                                aria-valuemin="0"
                                aria-valuemax="100"
                                aria-label="Profile completion progress"
                            ></div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Multi-step form logic and progress bar update -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const steps = document.querySelectorAll('.form-step');
            let currentStep = 0;

            function showStep(index) {
                steps.forEach((step, i) => {
                    step.classList.toggle('d-none', i !== index);
                });
                updateProgressBar(index);
            }

            function updateProgressBar(index) {
                const percent = Math.round(((index + 1) / steps.length) * 100);
                document.getElementById('profileCompletion').textContent = percent + '%';
                document.getElementById('completionBar').style.width = percent + '%';
            }

            document.querySelectorAll('.next-step').forEach(btn => {
                btn.addEventListener('click', function () {
                    if (currentStep < steps.length - 1) {
                        currentStep++;
                        showStep(currentStep);
                    }
                });
            });

            document.querySelectorAll('.prev-step').forEach(btn => {
                btn.addEventListener('click', function () {
                    if (currentStep > 0) {
                        currentStep--;
                        showStep(currentStep);
                    }
                });
            });

            // Show first step on load
            showStep(currentStep);

            // Demo: Show success message on submit
            document.getElementById('editProfileForm').addEventListener('submit', function (e) {
                e.preventDefault();
                document.getElementById('successMessage').classList.remove('d-none');
                setTimeout(() => {
                    document.getElementById('successMessage').classList.add('d-none');
                }, 3000);
            });
        });
    </script>



</body>
</html>